@model IEnumerable<PropertyRentalManagementWebSite.Models.Appointment>
@{
    ViewBag.Title = "Tenant Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<h2>Tenant Dashboard</h2>
<div class="upcoming-appointments">
    <h4>Upcoming Appointments</h4>

    @{
        var upcomingAppointments = ViewBag.upcomingAppointments as IEnumerable<PropertyRentalManagementWebSite.Models.Appointment>;
    }

    @if (upcomingAppointments != null && upcomingAppointments.Any())
    {
        <div class="alert alert-info">
            <strong>You have upcoming appointments:</strong>
            @foreach (var appointment in upcomingAppointments)
            {
                <p>Appointment on @appointment.AppointmentDate.ToString("g"): @appointment.Purpose</p>
                <!-- Additional details or actions for the appointment -->
            }
        </div>
    }
    else
    {
        <p> You already see all the appointments schedule</p>
    }
</div>

<div class="unread-messages">
    <h3>Unread Messages</h3>
    @{
        var unreadMessages = ViewBag.UnreadMessages as IEnumerable<PropertyRentalManagementWebSite.Models.Message>;
    }

    @if (unreadMessages != null && unreadMessages.Any())
    {
        <div class="alert alert-info">
            <strong>You have unread messages:</strong>
            @foreach (var message in unreadMessages)
            {
                <p>Message from @message.User1.UserName (on @message.SendDate.ToString("g")): @message.Message1</p>

                <!-- Additional details or actions for the message -->
            }
        </div>
    }
    else
    {
        <p>You have no unread messages.</p>
    }

    <div class="list-group">

        @Html.ActionLink("List of Apartments", "Index", "Apartments", null, new { @class = "list-group-item list-group-item-action" })
        @Html.ActionLink("Manage Appointments", "Index", "Appointments", null, new { @class = "list-group-item list-group-item-action" })
        @Html.ActionLink("Send Message", "Index", "Messages", null, new { @class = "list-group-item list-group-item-action" })
    </div>
